<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carte isochrone interactive des transports publics suisses</title>

    <!-- Favicon -->
    <link rel="icon" type="image/ico" href="./assets/images/favicon.ico">

    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
    <link rel="stylesheet" href="./assets/css/app.css">
</head>

<body class="marker-cursor">
    <div id="map"></div>

    <div class="form-container-outer" id="form-container-outer">
        <div class="form-container">
            <h2>Calculer une carte isochrone</h2>

            <form id="form">
                <div class="form-group">
                    <label>Point d'origine</label>
                    <button class="btn btn-secondary" id="select-origin-point" type="button">
                        <img src="./assets/images/origin-point.png" width="15"> Choisir le point d'origine
                    </button>
                    <p class="origin-point-coord">Coordonnées : <span id="origin-point-coord-value">-</span></p>
                </div>

                <div class="form-group">
                    <label for="departure-at">Date et heure de départ</label>
                    <input type="datetime-local" id="departure-at" required>
                </div>

                <div class="form-group">
                    <label for="time-limit">Limite de temps (en minutes)</label>
                    <input type="number" id="time-limit" min="10" max="480" value="60" required>
                </div>

                <div class="form-group">
                    <label for="isochrone-interval">Intervalle entre les isochrones</label>
                    <select id="isochrone-interval" required></select>
                </div>

                <div class="form-group">
                    <label>Mode d'affichage</label>

                    <div class="display-mode-container">
                        <label>
                            <input type="radio" id="display-mode-circles" name="display_mode" required checked> Cercles
                        </label>
                        <div class="tooltip">
                            ?
                            <div class="tooltip-content">
                                L'affichage des isochrones est un chevauchement de cercles représentant la distance possible à parcourir à pied depuis chaque arrêt atteignable. Ce mode d'affiche est relativement rapide à calculer, mais peut être coûteux en ressource côté affichage, car il peut y avoir beaucoup de cercles à afficher. Il est le plus fidèle à la réalité.                            </div>
                        </div>
                        <label>
                            <input type="radio" id="display-mode-contour-line" name="display_mode" required> Ligne de contour
                        </label>
                        <div class="tooltip">
                            ?
                            <div class="tooltip-content">
                                L'affichage des isochrones est fait à partir des lignes de contours calculées. Ce mode d'affiche peut s'avérer très à calculer dans certains cas. Il est relativement fidèle à la réalité, mais peut parfois représenter des zones qui ne peuvent pas être atteintes dans le temps limite de l'isochrone (problèmes des trous qui sont ignorés par la ligne de contour, car ils sont à l'intérieur de celle-ci). Cet affichage est plus esthétique et simple à lire.
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-6">
                    <button class="btn" id="submit-button" type="submit">
                        <img src="./assets/images/target.png" width="20" height="20"> Calculer
                    </button>
                </div>
            </form>
        </div>

        <button class="toggle-form-display" id="toggle-form-display">
            <img src="./assets/images/double-caret.svg">
        </button>
    </div>

    <div class="legend-container" id="legend-container" style="display: none;">
        <div class="legend" id="legend">
            <!--
            <div class="legend-entry" style="background-color: green;">30 min.</div>
            <div class="legend-entry" style="background-color: red;">30 min.</div>
            -->
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="./assets/js/app.js"></script>
</body>

</html>
